<!DOCTYPE html>
<html lang="es-es">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Ionic 2 (beta) y el error "Promise is not defined" &middot; Juanjo Salvador
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css">


  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Juanjo Salvador
        </a>
      </h1>
      <p class="lead">Desarrollo. Debian. Software Libre.</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Inicio</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/sobre-mi/">Sobre mi</a>
          
        
      
        
          
        
      
        
      
        
          
            <a class="sidebar-nav-item" href="/curriculum/">Curriculum</a>
          
        
      
        
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/portfolio/">Portfolio</a>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

      <a class="sidebar-nav-item" href="/atom.xml">RSS</a>
    </nav>

    <p>&copy; 2016. Todos los derechos reservados.</p>
  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">Ionic 2 (beta) y el error "Promise is not defined"</h1>
  <span class="post-date">19 May 2016</span>
  <p>Esta entrada es más un apunte personal que un artículo. Sin embargo, mis apuntes personales pueden resultar instructivos, así que no veo por qué no colgarlo aquí.</p>

<p>Trata sobre como resolver (o como he resuelto yo) el error <code class="highlighter-rouge">Promise is not defined</code> al intentar depurar una aplicación híbrida de Ionic 2 (beta 22) desde el navegador, usando <code class="highlighter-rouge">ionic serve</code>.</p>

<h3 id="el-problema-descrito">El problema, descrito</h3>

<p>Al ejecutar <code class="highlighter-rouge">ionic serve</code>, es posible que obtengamos el siguiente log.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Running 'serve:before' gulp task before serve
[18:28:32] Starting 'clean'...
[18:28:32] Finished 'clean' after 17 ms
[18:28:32] Starting 'watch'...
[18:28:32] Starting 'sass'...
[18:28:32] Starting 'html'...
[18:28:32] Starting 'fonts'...
[18:28:32] Starting 'scripts'...
[18:28:32] Finished 'scripts' after 76 ms
[18:28:32] Finished 'html' after 85 ms
[18:28:32] Finished 'fonts' after 93 ms
Caught exception:
 ReferenceError: Promise is not defined
    at LazyResult.async (/Users/linuxeitor/Documents/Ionic2/Ionic2SecondApp/node_modules/postcss/lib/lazy-result.js:157:31)
    at LazyResult.then (/Users/linuxeitor/Documents/Ionic2/Ionic2SecondApp/node_modules/postcss/lib/lazy-result.js:79:21)
    at DestroyableTransform._transform (/Users/linuxeitor/Documents/Ionic2/Ionic2SecondApp/node_modules/gulp-autoprefixer/index.js:24:6)
    at DestroyableTransform.Transform._read (/Users/linuxeitor/Documents/Ionic2/Ionic2SecondApp/node_modules/through2/node_modules/readable-stream/lib/_stream_transform.js:159:10)
    at DestroyableTransform.Transform._write (/Users/linuxeitor/Documents/Ionic2/Ionic2SecondApp/node_modules/through2/node_modules/readable-stream/lib/_stream_transform.js:147:83)
    at doWrite (/Users/linuxeitor/Documents/Ionic2/Ionic2SecondApp/node_modules/through2/node_modules/readable-stream/lib/_stream_writable.js:313:64)
    at writeOrBuffer (/Users/linuxeitor/Documents/Ionic2/Ionic2SecondApp/node_modules/through2/node_modules/readable-stream/lib/_stream_writable.js:302:5)
    at DestroyableTransform.Writable.write (/Users/linuxeitor/Documents/Ionic2/Ionic2SecondApp/node_modules/through2/node_modules/readable-stream/lib/_stream_writable.js:241:11)
    at DestroyableTransform.ondata (/Users/linuxeitor/Documents/Ionic2/Ionic2SecondApp/node_modules/through2/node_modules/readable-stream/lib/_stream_readable.js:531:20)
    at DestroyableTransform.emit (events.js:95:17) 

Mind letting us know? https://github.com/driftyco/ionic-cli/issues
</code></pre>
</div>

<p>Los señores de Ionic, muy amablemente introdujeron un enlace a la página de incidencias de su repositorio, para que notifiquemos el error. Sin embargo, si haces una búsqueda en dicha URL, verás que hay muchos casos similares con respuestas muy variopintas.</p>

<h3 id="el-origen">El origen</h3>

<p>Tras indagar en Internet (y mucho StackOverflow), he llegado a la conclusión de que el origen del problema es una <strong>dependencia faltante</strong> y una configuración de Gulp. En concreto, falta añadir un <code class="highlighter-rouge">requiere</code> a <code class="highlighter-rouge">gulpfile.js</code> y un paquete NPM a nuestra lista de módulos.</p>

<h3 id="la-solucin">La solución</h3>

<p>Sencillo. Solo tenemos que abrir nuestro <code class="highlighter-rouge">gulpfile.js</code> (en la raíz del proyecto Ionic), y añadir lo siguiente a la línea 6:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>require('es6-promise').polyfill();
</code></pre>
</div>

<p>A continuación, instalamos el paquete <code class="highlighter-rouge">es6-promise</code> con NPM:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>npm install es6-promise
</code></pre>
</div>

<p>¡Y a volar!</p>

<p>Por si acaso, he hecho un <a href="https://github.com/driftyco/ionic2-app-base/pull/31">pull request al repositorio de la plantilla <code class="highlighter-rouge">blank</code> de Ionic 2</a>, solucionando este problema.</p>


</div>

<p align="center">
    <strong>¿Tienes alguna mejora para este artículo?</strong><br>
    <a href="https://github.com/JuanjoSalvador/juanjosalvador.github.io">
        <u>¡Mándame una pull request!</u>
    </a>
</p>

<div id="share-this">
  <h4>Comparte este artículo</h4>
  <a href="https://twitter.com/intent/tweet?text=Ionic 2 (beta) y el error "Promise is not defined"&url=http://localhost:4000/2016/05/19/Ionic-2-Promise-is-not-defined/" rel="nofollow" target="_blank" title="Share on Twitter"><i class="fa fa-twitter-square"></i></a>
<a href="https://facebook.com/sharer.php?u=http://localhost:4000/2016/05/19/Ionic-2-Promise-is-not-defined/" rel="nofollow" target="_blank" title="Share on Facebook"><i class="fa fa-facebook-square"></i></a>
<a href="http://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/2016/05/19/Ionic-2-Promise-is-not-defined/" rel="nofollow" target="_blank" title="Share on Linkedlin"><i class="fa fa-linkedin-square"></i></a>
<a href="https://plus.google.com/share?url=http://localhost:4000/2016/05/19/Ionic-2-Promise-is-not-defined/" rel="nofollow" target="_blank" title="Share on Google+"><i class="fa fa-google-plus-square"></i></a>

</div>

<div class="related">
  <h2>Artículos relacionados</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2016/11/23/Guerrilla-Open-Access-Manifesto-el-legado-de-Aaron-Swartz/">
            Guerrilla Open Access Manifesto, el legado de Aaron Swartz
            <small>23 Nov 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2016/11/20/Desarrollo-de-apps-con-JavaScript/">
            Desarrollo de aplicaciones móviles con JavaScript
            <small>20 Nov 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2016/11/11/Como-instalar-Jekyll-en-Windows/">
            Como instalar Jekyll en Windows
            <small>11 Nov 2016</small>
          </a>
        </h3>
      </li>
    
  </ul>
	<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        
        s.src = '//juanjosalvador.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

</div>

    </div>

  </body>
</html>
