<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Juanjo Salvador's personal webpage">

    <title>
        
            Parsear un JSON con Ruby &middot; Ingeniero y no puedo
        
    </title>

    <!-- CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css">
    <link rel="stylesheet" href="/assets/styles.css">

    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>

    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Parsear un JSON con Ruby | Ingeniero y no puedo</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Parsear un JSON con Ruby" />
<meta name="author" content="Juanjo Salvador" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Podemos definir JSON como un formato ligero de intercambio de datos. Es un subconjunto de la notación literal de objetos de JavaScript que no requiere el uso de XML, lo cual facilita mucho la legibilidad de la información contenida." />
<meta property="og:description" content="Podemos definir JSON como un formato ligero de intercambio de datos. Es un subconjunto de la notación literal de objetos de JavaScript que no requiere el uso de XML, lo cual facilita mucho la legibilidad de la información contenida." />
<link rel="canonical" href="http://localhost:4000/ruby/2015/07/12/Parsear-un-JSON-con-Ruby/" />
<meta property="og:url" content="http://localhost:4000/ruby/2015/07/12/Parsear-un-JSON-con-Ruby/" />
<meta property="og:site_name" content="Ingeniero y no puedo" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-07-12T00:00:00+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Parsear un JSON con Ruby" />
<script type="application/ld+json">
{"description":"Podemos definir JSON como un formato ligero de intercambio de datos. Es un subconjunto de la notación literal de objetos de JavaScript que no requiere el uso de XML, lo cual facilita mucho la legibilidad de la información contenida.","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/ruby/2015/07/12/Parsear-un-JSON-con-Ruby/"},"url":"http://localhost:4000/ruby/2015/07/12/Parsear-un-JSON-con-Ruby/","author":{"@type":"Person","name":"Juanjo Salvador"},"headline":"Parsear un JSON con Ruby","@type":"BlogPosting","dateModified":"2015-07-12T00:00:00+02:00","datePublished":"2015-07-12T00:00:00+02:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>


  <body>
        <section class="hero is-primary">
            <div class="hero-body">
                <div class="container main">
                    <div class="columns is-mobile">
                        <div class="column">
                            <h1 class="title is-1"><a href="/">Ingeniero y no puedo</a></h1>
                            <h2 class="subtitle is-3">El blog personal de Juanjo Salvador</h2>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="container">
                <div class="columns is-mobile">
                    <div class="column">
                        <div class="post">
  
  <h2 class="title is-2 post-title">Parsear un JSON con Ruby</h2>
  <div class="post-info">
    <time datetime="" class="frontpage-time has-text-grey-light">July 12, 2015</time>
  </div>

  <p>Podemos definir JSON como un formato ligero de intercambio de datos. Es un subconjunto de la notación literal de objetos de JavaScript que no requiere el uso de XML, lo cual facilita mucho la legibilidad de la información contenida.</p>

<p>En la actualidad está muy extendido, lo cual hace que cualquier desarrollador web requiera de su uso en más de una ocasión. Al proceso de extracción de datos de un JSON (<em>o XML, o cualquier otro formato</em>) se le llama <em>parsear</em>.</p>

<p>Muchos lenguajes incluyen librerías para hacer esto, como es el caso de Ruby. Hace unos días, trabajando en un script el cual necesita tomar datos de terceros y que descaga en un archivo JSON, tuve la impediosa necesidad de parsear dicho archivo, pero, era la primera vez que necesitaba hacer algo así en Ruby, así que, me lancé a la aventura.</p>

<p>La solución, como casi siempre que tengo un problema similar, me apareció en <a href="http://stackoverflow.com/questions/5410682/parsing-a-json-string-in-ruby">StackOverflow</a>.</p>

<p>Primero instalamos la gema json</p>

<p><code class="language-plaintext highlighter-rouge">gem install json</code></p>

<p>La añadimos a nuestro proyecto…</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">require</span> <span class="s1">'rubygems'</span>
<span class="nb">require</span> <span class="s1">'json'</span>
</code></pre></div></div>

<p>Y por último, para usarlo, solo tenemos que llamar al método <code class="language-plaintext highlighter-rouge">JSON.parse()</code>, suponiendo que aquí nuestro JSON está almacenado en una variable llamada <code class="language-plaintext highlighter-rouge">string</code>.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">parsed_file</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
</code></pre></div></div>

<p>Esto nos devolverá el JSON dividido en claves y valores, por lo que, para acceder al valor de una clave en concreto, a través de la variable donde lo hemos guardado…</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">string</span> <span class="o">=</span> <span class="s1">'{"desc":{"someKey":"someValue","anotherKey":"value"}}'</span>
<span class="n">parsed_file</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
<span class="n">parsed_file</span><span class="p">[</span><span class="s2">"anotherKey"</span><span class="p">]</span> <span class="c1"># Nos devuelve al valor de 'anotherKey'</span>
</code></pre></div></div>


</div>
                    </div>
                </div>
            </div>
        </section>

        <footer class="footer">
    <div class="content has-text-centered">
        <p>
            Made with <span style="color: #e25555;">&hearts;</span> by Juanjo Salvador
        </p>
    </div>
</footer>
  </body>
</html>